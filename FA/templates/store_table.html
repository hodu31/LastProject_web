<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>NotiCare : Team 3 - store</title>
    <meta
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
      name="viewport"
    />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome Icons -->
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Ionicons -->
    <link
      href="https://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Theme style -->
    <link
      href="/static/mainapp/dist/css/AdminLTE.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <!-- AdminLTE Skins. Choose a skin from the css/skins 
         folder instead of downloading all of them to reduce the load. -->
    <link
      href="/static/mainapp/dist/css/skins/_all-skins.min.css"
      rel="stylesheet"
      type="text/css"
    />

    <style>
      .content-wrapper {
        margin-left: 0;  /* 왼쪽 마진 제거 */
      }
      /* 테이블 테두리와 셀 테두리 설정 */
      table,
      th,
      td {
        border: 1px solid black;
        border-collapse: collapse;
        background-color: #eef5f9;
      }
      /* 셀 안쪽 여백 설정 */
      th,
      td {
        padding: 15px;
      }
      /* 텍스트 위치를 중앙으로 설정 */
      th,
      td {
        text-align: center;
      }

       th {
    font-size: 20px;
    font-weight: bold;
  }
    td {
    font-size: 18px;
    }
    </style>
  </head>
  <body class="skin-blue">
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          <i class="fa fa-home"></i>View all store
          <small>매장 전체 조회</small>
        </h1>
      </section>


      <!-- Main content -->
      <section class="content">
        <div class="row">
          <div class="col-md-12">
            <div class="box box-primary">
              <table class="table table-hover">
                  <tr>
                      <th>매장주</th>
                      <th>매장</th>
                      <th>주소</th>
                      <th>상세주소</th>
                      <th>매장명</th>
                  </tr>
                  {% for shop in shops %}
                      <tr>
                          <td>{{ user.USER_ID }}</td>
                          <td>{{ shop.SHOP_ID }}</td>
                          <td>{{ user.USER_ADD }}</td>
                          <td>{{ user.USER_ADD2 }}</td>
                          <td>{{ user.USER_STORE }}</td>
                      </tr>
                  {% endfor %}
              </table>
            </div>
          </div>
          <!-- /.col -->
        </div>
          <!-- 매장 추가 버튼 -->
          <button id="add-shop-button" class="btn btn-primary">매장 추가</button>

          <!-- 매장 추가 폼 (초기에는 숨겨져 있음) -->
          <div id="add-shop-form" style="display: none;">
            <input id="new-shop-name" type="text" placeholder="추가 할 매장 이름" />
            <button id="submit-new-shop" class="btn btn-success">추가</button>
          </div>
    </div>
    

    <!-- jQuery 2.1.3 -->
    <script src="/static/mainapp/plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <!-- Bootstrap 3.3.2 JS -->
    <script
      src="/static/mainapp/bootstrap/js/bootstrap.min.js"
      type="text/javascript"
    ></script>

    <!-- AdminLTE App -->
    <script src="/static/mainapp/dist/js/app.min.js" type="text/javascript"></script>

<script>
  // 매장 추가 버튼
  const addShopButton = document.getElementById("add-shop-button");

  // 매장 추가 폼
  const addShopForm = document.getElementById("add-shop-form");

  // 새 매장 이름 입력 필드
  const newShopNameInput = document.getElementById("new-shop-name");

  // 새 매장 추가 제출 버튼
  const submitNewShopButton = document.getElementById("submit-new-shop");

  // 매장 추가 버튼을 클릭하면 폼을 표시
  addShopButton.addEventListener("click", () => {
    addShopForm.style.display = "block";
  });

  // 새 매장 추가 제출 버튼을 클릭하면 서버에 POST 요청
  submitNewShopButton.addEventListener("click", async () => {
    const newShopName = newShopNameInput.value;

    // 서버에 POST 요청을 보내 새 매장을 추가
    const response = await fetch("/add-shop", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({ newShopName }),
    });

    if (response.ok) {
      // 성공적으로 매장이 추가되면 페이지를 새로고침하거나 다른 작업을 수행
      location.reload();
    } else {
      alert("매장 추가 실패");
    }
  });
</script>

  </body>
</html>
